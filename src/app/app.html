<form (submit)="submit()">
  <label for="file">File</label>
  <input type="file" id="file" required #fileInput (change)="onChange()">
  <div>
    <button type="submit">Process</button>
  </div>

  @if (link(); as lnk) {
    <p><a [href]="lnk" download>Download converted CSV</a></p>
  }

  @if (errors(); as err) {
    <div>
      <h2>Errors:</h2>
      <pre>{{err}}</pre>
    </div>
  }

  @if (transactions(); as t) {
    <table>
      <thead>
      <tr>
        <th>Date</th>
        <th>Payee</th>
        <th>Memo</th>
        <th>Amount</th>
      </tr>
      </thead>
      <tbody>
        @for (transaction of t; track $index) {
          <tr>
            <td>{{transaction.date}}</td>
            <td>{{transaction.payee}}</td>
            <td></td>
            <td>{{transaction.amount}}</td>
          </tr>
        }
      </tbody>
    </table>
  }

</form>
